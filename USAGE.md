# 个人财务与预算跟踪器 - 使用指南

## 🚀 快速开始

### 1. 启动应用
```bash
npm run dev
```
应用将在 http://localhost:5173 启动

### 2. 首次使用
1. 打开浏览器访问 http://localhost:5173
2. 系统会自动初始化数据库和默认分类
3. 开始导入你的财务数据

## 📊 功能使用说明

### 导入CSV数据

#### 步骤1：准备CSV文件
- 确保CSV文件包含表头行
- 支持UTF-8编码
- 支持逗号、分号、制表符分隔

#### 步骤2：上传文件
1. 点击"导入数据"菜单
2. 拖拽或点击选择CSV文件
3. 系统会自动解析并显示前几行数据

#### 步骤3：字段映射
系统会智能预判字段类型，你需要确认或调整：
- **交易日期**: 选择包含日期的列
- **交易描述**: 选择包含交易说明的列  
- **金额**: 选择包含金额的列（正数为收入，负数为支出）
- **收入金额**: 如果收入和支出分开，选择收入列
- **支出金额**: 如果收入和支出分开，选择支出列
- **忽略此列**: 不需要的列选择此项

#### 步骤4：预览和导入
1. 点击"预览数据"查看前10条记录
2. 确认数据正确后点击"确认导入"
3. 系统会自动分类并保存数据

### 管理分类规则

#### 创建新规则
1. 点击"分类规则"菜单
2. 点击"新建规则"
3. 填写规则信息：
   - **规则名称**: 如"餐饮相关"
   - **匹配条件**: 选择"包含"
   - **匹配值**: 输入"餐|饭|吃|餐厅|食堂|外卖"
   - **目标分类**: 选择"餐饮"
   - **优先级**: 数字越小优先级越高

#### 规则类型说明
- **包含**: 交易描述包含指定关键词
- **等于**: 交易描述完全等于指定内容
- **开头是**: 交易描述以指定内容开头
- **结尾是**: 交易描述以指定内容结尾
- **正则表达式**: 使用正则表达式匹配

### 查看财务概览

#### 仪表盘功能
1. 点击"仪表盘"菜单
2. 选择时间范围（本月、上月、今年、自定义）
3. 查看统计数据和图表：
   - 总收入、总支出、净收入、交易笔数
   - 支出分类饼图
   - 收支趋势柱状图

### 管理交易记录

#### 查看和搜索
1. 点击"交易记录"菜单
2. 使用搜索框按描述搜索
3. 使用分类筛选器按分类筛选
4. 使用日期范围选择器按时间筛选

#### 编辑记录
1. 在交易记录表格中点击"编辑"按钮
2. 修改日期、描述、金额、分类等信息
3. 点击"确定"保存修改

#### 删除记录
1. 在交易记录表格中点击"删除"按钮
2. 确认删除操作

### 映射模板管理

#### 保存模板
1. 在导入数据页面完成字段映射
2. 点击"保存为模板"
3. 输入模板名称和描述

#### 使用模板
1. 在导入数据页面点击已保存的模板
2. 系统会自动应用该模板的映射配置
3. 根据需要调整映射配置

## 💡 使用技巧

### CSV文件格式建议
```
交易日期,交易描述,交易金额
2024-01-01,工资收入,8000.00
2024-01-02,早餐,15.50
2024-01-03,地铁费,6.00
```

### 分类规则建议
1. **先创建通用规则**，再创建具体规则
2. **使用关键词组合**，如"餐|饭|吃|餐厅"
3. **调整优先级**，确保重要规则优先匹配
4. **定期检查规则**，删除无效规则

### 数据管理建议
1. **定期备份数据**（导出CSV）
2. **及时分类**，避免数据堆积
3. **定期检查**，确保数据准确性
4. **使用模板**，提高导入效率

## 🔧 故障排除

### 常见问题

#### CSV导入失败
- 检查文件编码是否为UTF-8
- 确认文件格式正确（有表头行）
- 检查日期格式是否标准

#### 自动分类不准确
- 检查分类规则是否正确
- 调整规则优先级
- 添加更具体的规则

#### 数据不显示
- 检查时间范围设置
- 确认数据已正确导入
- 刷新页面重新加载

### 技术支持
如果遇到问题，请检查：
1. 浏览器控制台是否有错误信息
2. 数据是否正确导入到数据库
3. 分类规则是否配置正确

## 📱 PWA功能

### 安装到桌面
1. 在Chrome/Edge中打开应用
2. 点击地址栏右侧的安装图标
3. 选择"安装"即可添加到桌面

### 离线使用
- 应用支持离线缓存
- 已访问的页面可以离线查看
- 数据存储在本地IndexedDB中

## 🎯 最佳实践

1. **定期导入数据**：建议每月导入一次银行账单
2. **及时分类**：导入后立即检查分类结果
3. **定期分析**：每月查看仪表盘了解财务状况
4. **备份数据**：重要数据建议定期导出备份
5. **优化规则**：根据使用情况不断优化分类规则
